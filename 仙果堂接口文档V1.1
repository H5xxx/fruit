仙果堂接口文档V1.2
说明：
1：所以post请求数据都算以标准application/x-www-form-urlencoded类型提交
2：所有的返回数据都算Json格式，
3：所有接口都返回200，另返回内容改为
{
     "err": null,
     "data": ...
}
data部分即为原来的json内容，err部分为null，若出错（无权限，id不存在等），则将错误信息写到err上：
即出错时返回如下：（code为200）
{
     "err": "无权限",
     "data": null
}

1：产品资源接口（开放）

1.1获取品类及商品列表
资源标识: /service/product
方法: GET
请求响应示例：
ccept: application/json
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 341
{
	"err" : null,
	"data" : [{
		"id" : "1",
		"deleteDate" : "",
		"status" : 0,
		"fruits" : [{
			"deleteDate" : "",
			"status" : 0,
			"categoryId" : "1",
			"imageUrls" : "4.jpg,",
			"discrbe" : "好吃又好看",
			"updateDate" : "2014-10-21 23:17:40",
			"id" : "1",
			"categoryName" : "",
			"price" : 300,
			"name" : "苹果",
			"iconUrls" : "d6fd.jpg",
			"createDate" : "2014-10-21 20:51:18",
			"oldprice" : 1
		}, {
			"deleteDate" : "",
			"status" : 0,
			"categoryId" : "1",
			"imageUrls" : "98f576.jpg,",
			"discrbe" : "好吃",
			"updateDate" : "2014-10-21 23:26:59",
			"id" : "2",
			"categoryName" : "",
			"price" : 500,
			"name" : "大鸭梨",
			"iconUrls" : "e177e.jpg",
			"createDate" : "2014-10-21 20:51:18",
			"oldprice" : 1
		}],
		"name" : "水果",
		"createDate" : "2014-10-04 20:54:21",
		"updateDate" : "2014-10-21 21:30:12"
	}, {
		"id" : "2",
		"deleteDate" : "",
		"status" : 0,
		"fruits" : [{
					"deleteDate" : "",
					"status" : 0,
					"categoryId" : "2",
					"imageUrls" : "c374542dc07f.jpg,",
					"discrbe" : "ssssssss",
					"updateDate" : "2014-10-20 22:49:23",
					"id" : "3",
					"categoryName" : "",
					"price" : 250,
					"name" : "西瓜",
					"iconUrls" : "c1f44.jpg",
					"createDate" : "2014-10-21 20:51:18",
					"oldprice" : 1
				}, {
					"deleteDate" : "",
					"status" : 1,
					"categoryId" : "2",
					"imageUrls" : "7f.jpg,",
					"discrbe" : "水多，好吃，补脑",
					"updateDate" : "2014-10-21 21:33:53",
					"id" : "45",
					"categoryName" : "",
					"price" : 500,
					"name" : "猕猴桃",
					"iconUrls" : "fd22a951f65b.jpg",
					"createDate" : "2014-10-21 20:51:18",
					"oldprice" : 1
				}],
		"name" : "瓜类",
		"createDate" : "2014-10-04 21:08:13",
		"updateDate" : "2014-10-21 21:30:17"
	}, {
		"id" : "3",
		"deleteDate" : "",
		"status" : 0,
		"fruits" : [],
		"name" : "坚果",
		"createDate" : "2014-10-04 21:50:14",
		"updateDate" : "2014-10-21 21:30:21"
	}, {
		"id" : "67",
		"deleteDate" : "",
		"status" : 0,
		"fruits" : [],
		"name" : "测试品类",
		"createDate" : "2014-10-21 21:30:34",
		"updateDate" : ""
	}]
}



1.2获取商品详情(根据ID)
资源标识: /service/product /{id}
方法: GET
请求响应示例：
Accept: application/json
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 341
{
	"err" : null,
	"data" : {
		"deleteDate" : "",
		"status" : 0,
		"categoryId" : "1",
		"imageUrls" : "a84.jpg,",
		"discrbe" : "好吃又好看",
		"updateDate" : "2014-10-21 23:17:40",
		"discount" : 80,
		"id" : "1",
		"categoryName" : "",
		"price" : 300,
		"name" : "苹果",
		"iconUrls" : "de.jpg",
		"createDate" : "2014-10-21 20:51:18"
	}
}


2：用户地址接口
2.1获取用户地址列表接口
资源标识: /service/address
方法: GET
请求响应示例：
Accept: application/json
HTTP/1.1 200 OK
Content-Type: application/json
{
	"err" : null,
	"data" : [{
				"id" : "1",
				"countryName" : "曹县",
				"deleteDate" : "",
				"isDefault" : "0",
				"status" : 0,
				"telPhone" : "13800138000",
				"consignee" : "路易斯安娜",
				"cityName" : "菏泽市",
				"openid" : "001",
				"createDate" : "2014-10-05 12:42:24",
				"updateDate" : "",
				"detailAddress" : "清河办事处"
			}, {
				"id" : "2",
				"countryName" : "滨城区",
				"deleteDate" : "",
				"isDefault" : "1",
				"status" : 0,
				"telPhone" : "13800138000",
				"consignee" : "安吉丽娜朱莉",
				"cityName" : "滨州市",
				"openid" : "001",
				"createDate" : "2014-10-05 12:42:24",
				"updateDate" : "",
				"detailAddress" : "小营镇申家村"
			}]
}


2.2获取单个地址
资源标识: /service/address/{id}
方法: GET
请求响应示例：
Accept: application/json
HTTP/1.1 200 OK
Content-Type: application/json
{
	"err" : null,
	"data" : {
		"id" : "1",
		"countryName" : "曹县",
		"deleteDate" : "",
		"telPhone" : "13800138000",
		"status" : 0,
		"isDefault" : "0",
		"consignee" : "路易斯安娜",
		"cityName" : "菏泽市",
		"openid" : "001",
		"createDate" : "2014-10-05 12:42:24",
		"updateDate" : "",
		"detailAddress" : "清河办事处"
	}
}



2.3添加一个地址
资源标识: /service/orderss
方法: POST
请求响应示例：
Accept: application/json
HTTP/1.1 200 OK
Content-Type: application/json
Form Dataview sourceview URL encoded
cityName:北京市
countryName:海淀区
detailAddress:德顺园小区
isDefault:0
consignee:程先生
telPhone:13800138000

相应数据
{
	"err" : null,
	"data" : {
		"id" : "1",
		"countryName" : "海淀区",
		"deleteDate" : "",
		"telPhone" : "13800138000",
		"status" : 0,
		"isDefault" : "0",
		"consignee" : "程先生",
		"cityName" : "北京市",
		"openid" : "001",
		"createDate" : "2014-10-05 12:42:24",
		"updateDate" : "",
		"detailAddress" : "德顺园小区"
	}
}



2.4用户设置默认地址接口
资源标识: /service/address/default/{id}
方法: POST
请求响应示例：
Content-Type: application/json
{
	"err" : null,
	"data" : {
		"id" : "1",
		"countryName" : "曹县",
		"deleteDate" : "",
		"telPhone" : "13800138000",
		"status" : 0,
		"isDefault" : "0",
		"consignee" : "路易斯安娜",
		"cityName" : "菏泽市",
		"openid" : "001",
		"createDate" : "2014-10-05 12:42:24",
		"updateDate" : "",
		"detailAddress" : "清河办事处"
	}
}



3：用户订单
3.1 获取用户订单列表接口
资源标识: /service/orders
方法: GET
请求响应示例：
POST  /user/orders/cancel/{openid} HTTP/1.1
Content-Type: application/json
{
	"err" : null,
	"data" : [{
		"countryName" : "海淀区",
		"deleteDate" : "",
		"fruitIds" : "",
		"status" : 2,
		"statusDispalyText" : "已取消",
		"oldfruits" : [{
			"fruitid" : "1",
			"fruitCount" : 1,
			"ordersid" : "C-1414655626511",
			"malutionText" : "不好用",
			"imageUrls" : "ht1.jpg,",
			"discrbe" : "好吃又好看",
			"malutionFlag" : 1,
			"id" : "1",
			"price" : 300,
			"name" : "苹果",
			"iconUrls" : "httb506.jpg",
			"openid" : "001",
			"malutionDate" : "2014-10-30 16:45:29",
			"oldprice" : 1
		}, {
			"fruitid" : "2",
			"fruitCount" : 2,
			"ordersid" : "C-1414655626511",
			"malutionText" : "不好吃",
			"imageUrls" : "98f5766341d364b0599bc301ff0c5716.jpg,",
			"discrbe" : "好吃",
			"malutionFlag" : 2,
			"id" : "2",
			"price" : 500,
			"name" : "大鸭梨",
			"iconUrls" : "e177e8e3b55a88ef82f11707af70df98.jpg",
			"openid" : "001",
			"malutionDate" : "2014-10-30 16:45:30",
			"oldprice" : 1
		}, {
			"fruitid" : "3",
			"fruitCount" : 3,
			"ordersid" : "C-1414655626511",
			"malutionText" : "不好玩饿",
			"imageUrls" : "c374542dc07f298253b30dde413a4422.jpg,",
			"discrbe" : "ssssssss",
			"malutionFlag" : 3,
			"id" : "3",
			"price" : 250,
			"name" : "西瓜",
			"iconUrls" : "c1f461a2006f4d18787184e5337b7394.jpg",
			"openid" : "001",
			"malutionDate" : "2014-10-30 16:45:30",
			"oldprice" : 1
		}],
		"consignee" : "朱莉",
		"malutionText" : "",
		"cityName" : "北京市",
		"cancelText" : "不想要了",
		"malutionFlag" : "",
		"detailAddress" : "德顺园小区",
		"fruitnums" : "",
		"id" : "1",
		"amount" : 5000,
		"telPhone" : "13800138000",
		"cancelDate" : "2014-10-30 16:46:54",
		"openid" : "001",
		"payDate" : "",
		"orderid" : "C-1414655626511",
		"createDate" : "2014-10-30 15:53:46"
	}]
}


3.2 用户提交订单
资源标识: /service/orders
方法: POST
请求响应示例：
POST  /user/orders/cancel/{openid} HTTP/1.1
Content-Type: application/json
Form Dataview sourceview URL encoded
	amount:5000
	fruitnums:2,3,3
	fruitIds:1,2,3
	cityName:北京市
	countryName:海淀区
	detailAddress:玫瑰花园
	consignee:史泰龙
	telPhone:13800138000
相应数据
{
	"err" : null,
	"data" : {
		"deleteDate" : "",
		"fruitIds" : "1,2",
		"status" : 6,
		"statusDispalyText" : "已删除",
		"fruits" : [],
		"malutionText" : "这个东西比较好",
		"cancelText" : "1",
		"receptionAddress" : "山东省菏泽市",
		"malutionFlag" : 1,
		"fruitnums" : "2,2",
		"receptionAddressVO" : null,
		"amount" : 45,
		"id" : "1",
		"receptionAddressId" : "1",
		"cancelDate" : "2014-10-28 16:34:29",
		"payDate" : "",
		"openid" : "001",
		"orderid" : "A01B001-001",
		"createDate" : "2014-10-05 13:25:47",
		"malutionDate" : "2014-10-28 16:35:13"
	}
}


3.3用户订单支付接口（可能还需要修改）
资源标识: /service/orders/pay/{orderid}
方法: POST
请求响应示例：
POST  /user/orders/cancel/{openid} HTTP/1.1
Content-Type: application/json
{
	"timestamp" : "1413731049",
	"noncestr" : "tvxmpBm8sJZIwAzV",
	"appId" : "wxf8b4f85f3a794e77",
	"signType" : "sha1",
	"package" : "bank_type=WX&body=%E5%95%86%E5%93%81%E6%8F%8F%E8%BF%B0&fee_type=1&input_charset=GBK&notify_url=htttp%3A%2F%2Fwww.baidu.com&out_trade_no=A01B001-001&partner=1900000109&spbill_create_ip=0%3A0%3A0%3A0%3A0%3A0%3A0%3A1&total_fee=45&sign=301793DAAD262F4CFCEFB281018A92A7",
	"paySign" : "f90786db13a410b3aa6d9e859fafb3f513a2702a"
}


3.4用户订单取消接口
资源标识: /service/orders/cancel/{ orderid }
方法: POST
请求响应示例：
POST  /user/orders/cancel/{openid} HTTP/1.1
Content-Type: application/json
Form Dataview sourceview URL encoded
	cancelText:不想要了

相应数据
{
	"err" : null,
	"data" : {
		"countryName" : "海淀区",
		"deleteDate" : "",
		"fruitIds" : "",
		"status" : 2,
		"statusDispalyText" : "已取消",
		"oldfruits" : [{
			"fruitid" : "1",
			"fruitCount" : 1,
			"ordersid" : "C-1414655626511",
			"malutionText" : "不好用",
			"imageUrls" : "h.jpg,",
			"discrbe" : "好吃又好看",
			"malutionFlag" : 1,
			"id" : "1",
			"price" : 300,
			"name" : "苹果",
			"iconUrls" : "506.jpg",
			"openid" : "001",
			"malutionDate" : "2014-10-30 16:45:29",
			"oldprice" : 1
		}, {
			"fruitid" : "2",
			"fruitCount" : 2,
			"ordersid" : "C-1414655626511",
			"malutionText" : "不好吃",
			"imageUrls" : "98f5766341d364b0599bc301ff0c5716.jpg,",
			"discrbe" : "好吃",
			"malutionFlag" : 2,
			"id" : "2",
			"price" : 500,
			"name" : "大鸭梨",
			"iconUrls" : "e177e8e3b55a88ef82f11707af70df98.jpg",
			"openid" : "001",
			"malutionDate" : "2014-10-30 16:45:30",
			"oldprice" : 1
		}, {
			"fruitid" : "3",
			"fruitCount" : 3,
			"ordersid" : "C-1414655626511",
			"malutionText" : "不好玩饿",
			"imageUrls" : "c374542dc07f298253b30dde413a4422.jpg,",
			"discrbe" : "ssssssss",
			"malutionFlag" : 3,
			"id" : "3",
			"price" : 250,
			"name" : "西瓜",
			"iconUrls" : "c1f461a2006f4d18787184e5337b7394.jpg",
			"openid" : "001",
			"malutionDate" : "2014-10-30 16:45:30",
			"oldprice" : 1
		}],
		"consignee" : "朱莉",
		"malutionText" : "",
		"cityName" : "北京市",
		"cancelText" : "不想要了",
		"malutionFlag" : "",
		"detailAddress" : "德顺园小区",
		"fruitnums" : "",
		"amount" : 5000,
		"id" : "1",
		"telPhone" : "13800138000",
		"cancelDate" : "2014-10-30 16:46:54",
		"payDate" : "",
		"openid" : "001",
		"orderid" : "C-1414655626511",
		"createDate" : "2014-10-30 15:53:46"
	}
}


3.5用户订单评价接口
资源标识: /service/orders/malution/{ orderid }
方法: POST
请求响应示例：
Content-Type: application/json
Form Dataview sourceview URL encoded
	fruitIds:1,2,3
	malutionFlag:1,2,3
	malutionText:不好用@#?#@不好吃@#?#@不好玩饿
相应数据
{
	"err" : null,
	"data" : {
		"countryName" : "海淀区",
		"deleteDate" : "",
		"fruitIds" : "",
		"status" : 6,
		"statusDispalyText" : "已删除",
		"oldfruits" : [{
			"fruitid" : "1",
			"fruitCount" : 1,
			"ordersid" : "C-1414655626511",
			"malutionText" : "aaa",
			"imageUrls" : e31.jpg,",
			"discrbe" : "好吃又好看",
			"malutionFlag" : 1,
			"id" : "1",
			"price" : 300,
			"name" : "苹果",
			"iconUrls" : 6.jpg",
			"openid" : "001",
			"malutionDate" : "2014-10-30 16:38:32",
			"oldprice" : 1
		}, {
			"fruitid" : "2",
			"fruitCount" : 2,
			"ordersid" : "C-1414655626511",
			"malutionText" : "bbb",
			"imageUrls" : "98f5766341d364b0599bc301ff0c5716.jpg,",
			"discrbe" : "好吃",
			"malutionFlag" : 2,
			"id" : "2",
			"price" : 500,
			"name" : "大鸭梨",
			"iconUrls" : "e177e8e3b55a88ef82f11707af70df98.jpg",
			"openid" : "001",
			"malutionDate" : "2014-10-30 16:38:32",
			"oldprice" : 1
		}, {
			"fruitid" : "3",
			"fruitCount" : 3,
			"ordersid" : "C-1414655626511",
			"malutionText" : "ccc",
			"imageUrls" : "c374542dc07f298253b30dde413a4422.jpg,",
			"discrbe" : "ssssssss",
			"malutionFlag" : 3,
			"id" : "3",
			"price" : 250,
			"name" : "西瓜",
			"iconUrls" : "c1f461a2006f4d18787184e5337b7394.jpg",
			"openid" : "001",
			"malutionDate" : "2014-10-30 16:38:32",
			"oldprice" : 1
		}],
		"consignee" : "朱莉",
		"malutionText" : "",
		"cityName" : "北京市",
		"cancelText" : "不想要了",
		"malutionFlag" : "",
		"detailAddress" : "德顺园小区",
		"fruitnums" : "",
		"amount" : 5000,
		"id" : "1",
		"telPhone" : "13800138000",
		"cancelDate" : "2014-10-30 16:05:51",
		"payDate" : "",
		"openid" : "001",
		"orderid" : "C-1414655626511",
		"createDate" : "2014-10-30 15:53:46"
	}
}


4：用户收藏
4.1 获取用户收藏列表接口
资源标识: /service/collection
方法: GET
请求响应示例：
POST  /user/orders/cancel/{openid} HTTP/1.1
Content-Type: application/json
[
	{
		"id" : "1",
		"fruitid" : "1",
		"deleteDate" : "",
		"fruitVO" : null,
		"status" : 0,
		"openid" : "001",
		"createDate" : "2014-10-19 21:15:37",
		"updateDate" : ""
	}, {
		"id" : "2",
		"fruitid" : "1",
		"deleteDate" : "",
		"fruitVO" : null,
		"status" : 0,
		"openid" : "001",
		"createDate" : "2014-10-19 21:15:42",
		"updateDate" : ""
	}, {
		"id" : "3",
		"fruitid" : "1",
		"deleteDate" : "",
		"fruitVO" : null,
		"status" : 0,
		"openid" : "001",
		"createDate" : "2014-10-19 21:15:43",
		"updateDate" : ""
	}
]

4.2用户添加收藏接口
资源标识: /service/collection
方法: POST
请求响应示例：
POST  /user/orders/cancel/{openid} HTTP/1.1
Content-Type: application/json


5：用户反馈
5.1 用户反馈接口
资源标识: /service/user/feedback
方法: POST
请求响应示例：
POST  /user/orders/cancel/{openid} HTTP/1.1
Content-Type: application/json

5.2获取用户基本信息接口
资源标识: / service/user
方法: GET
请求响应示例：
POST  /user/orders/cancel/{openid} HTTP/1.1
Content-Type: application/json
[{
	"id" : "1",
	"deleteDate" : "ss",
	"status" : 0,
	"name" : "wx1",
	"openid" : "001",
	"createDate" : "ss",
	"updateDate" : "s"
}]



